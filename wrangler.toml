#:schema node_modules/wrangler/config-schema.json

name = "land"
compatibility_date = "2025-05-14"
# main = "./build/worker/index.js"
# main = "./functions/worker.ts"
# main = "./build/server/index.js"
main = "./app/entry.ssr.tsx"
# main = "./dist/ssr/index.js"
# assets = { directory = "./build/client", binding = "ASSETS" }
assets = { directory = "./dist/client", binding = "ASSETS" }
workers_dev = false
route = { pattern = "land.hash.memorial", custom_domain = true }

# no_bundle = true
# rules = [{ type = "ESModule", globs = ["**/*.js", "**/*.mjs"] }]

compatibility_flags = ["nodejs_als"]
services = [{ binding = "SERVER", service = "land-server" }]


[observability]
enabled = true
logs.enabled = true
logs.invocation_logs = true

# [env.production]
# compatibility_date = "2024-09-02"
